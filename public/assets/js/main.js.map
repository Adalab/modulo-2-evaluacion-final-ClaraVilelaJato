{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n//Nos traemos de html los elementos para trabajar con ellos en JS\n\nconst inputShow = document.querySelector('.js-searchinput');\nconst searchButton = document.querySelector('.js-search-btn');\nconst reset = document.querySelector('.reset__btn');\nconst resultsContainer = document.querySelector('.js-list-results'); //selecciono el elem. de html donde pintaré los resultados\n\nlet apiDataShows = []; //array donde almaceno resultados\n\n//Función para hacer petición al servidor\n\nfunction fetchToApi() {\n  let inputShowValue = inputShow.value.toLocaleLowerCase();\n  fetch(`https://api.tvmaze.com/search/shows?q=${inputShowValue}`)\n    .then((response) => response.json())\n    .then((data) => {\n      apiDataShows = data;\n    });\n  paintShows();\n}\n\nfunction handleSearch(ev) {\n  ev.preventDefault();\n  fetchToApi();\n}\n//Añadimos evento que desencadena la funcion fetch al pulsar el boton, nos traemos los datos del api\nsearchButton.addEventListener('click', handleSearch);\n\nfunction paintShows() {\n  let html = '';\n  for (const eachSerie of apiDataShows) {\n    const oneSerie = eachSerie.show;\n    console.log(oneSerie.id);\n    let image = '';\n    if (oneSerie.image === null) {\n      image = 'https://via.placeholder.com/210x295/ffffff/666666/?text=TV';\n    } else {\n      image = oneSerie.image.medium;\n    }\n    html += `<li id=\"${oneSerie.id}\" class=\"serie__list--item js-favorite\"><img src=\"${image}\" alt=\"${oneSerie.name}\"><h3 class=\"item__name\">${oneSerie.name}</h3></li>`;\n  }\n  resultsContainer.innerHTML = html;\n}\n"]}